{{- $webSecretName := include "villas.fullname" . | printf "%s-web" -}}
{{- $secret := lookup "v1" "Secret" .Release.Namespace $webSecretName -}}
Congratulations! You deployed VILLASframework in your Kubernetes cluster.

{{- if .Values.ingress.enabled }}
You can access the VILLASweb interface via the following URL:

    {{ include "villas.baseurl" . }}

To login use, run the following commands to get the login credentials of the admin user:

{{- if and .Values.database.enabled .Values.web.enabled .Values.web.backend.enabled }}
{{- if $secret }}
    User: {{ .Values.web.auth.admin.username }}
    Password: {{ $secret.data.password | b64dec }}
{{- else }}
    export ADMIN_USER={{ .Values.web.auth.admin.username }}
    export ADMIN_PASS=$(kubectl get secret --namespace {{ .Release.Namespace }} {{ $webSecretName }} -o jsonpath="{.data.password}" | base64 --decode)
{{- end }}
{{- end }}

Have fun!
{{- end }}
